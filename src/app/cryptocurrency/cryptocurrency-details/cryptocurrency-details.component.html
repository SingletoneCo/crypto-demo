<ng-container *ngIf="cryptocurrency$ | async as cryptocurrency">
  <h1 class="page-title">
    <div class="go-back-icon" (click)="goBack()">
      <mat-icon aria-hidden="false" aria-label="Go back icon" fontIcon="arrow_back_ios_new"></mat-icon>
    </div>
    <div class="cryptocurrency-name-container">
      <app-cryptocurrency-icon class="cryptocurrency-icon" [cryptocurrencySymbol]="cryptocurrency.symbol"
                               [sizeInRems]="2"></app-cryptocurrency-icon>
      {{ cryptocurrency.name }}
    </div>
    <div (click)="toggleFavouriteProperty(cryptocurrency.id)" class="favourite-icon">
      <ng-container *ngIf="cryptocurrency.favourite; else notFavourite">
        <mat-icon aria-hidden="false" aria-label="Favourite icon" fontIcon="star"></mat-icon>
      </ng-container>
      <ng-template #notFavourite>
        <mat-icon aria-hidden="false" aria-label="Favourite icon" fontIcon="star_border"></mat-icon>
      </ng-template>
    </div>
  </h1>

  <div class="page-content">
    <mat-accordion multi>
      <mat-expansion-panel expanded>
        <mat-expansion-panel-header>
          <mat-panel-title>
            General data
          </mat-panel-title>
        </mat-expansion-panel-header>
        <p>
          <span class="property-name">Symbol:</span>
          {{ cryptocurrency.symbol }}
        </p>
        <p>
          <span class="property-name">Rank:</span>
          {{ cryptocurrency.rank }}
        </p>
        <p>
          <span class="property-name">Beta value:</span>
          {{ cryptocurrency.beta_value }}
        </p>
        <p>
          <span class="property-name">First data at:</span>
          {{ cryptocurrency.first_data_at | date }}
        </p>
        <p>
          <span class="property-name">Last updated:</span>
          {{ cryptocurrency.last_updated | date }}
        </p>
        <p>
          <span class="property-name">Circulating supply:</span>
          {{ cryptocurrency.circulating_supply | spaceNumberDelimiter }}
        </p>
        <p>
          <span class="property-name">Total supply:</span>
          {{ cryptocurrency.total_supply | spaceNumberDelimiter }}
        </p>
        <p>
          <span class="property-name">Max supply:</span>
          {{ cryptocurrency.max_supply | spaceNumberDelimiter }}
        </p>
      </mat-expansion-panel>

      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            USD
          </mat-panel-title>
        </mat-expansion-panel-header>
        <p>
          <span class="property-name">Price:</span>
          {{ cryptocurrency.quotes.USD.price | currency | spaceNumberDelimiter }}
        </p>
        <p>
          <span class="property-name">Volume 24h:</span>
          {{ cryptocurrency.quotes.USD.volume_24h | spaceNumberDelimiter }}
        </p>
        <p>
          <span class="property-name">Volume 24h change 24h:</span>
          {{ cryptocurrency.quotes.USD.volume_24h_change_24h | spaceNumberDelimiter }}
        </p>
        <p>
          <span class="property-name">Market capacity:</span>
          {{ cryptocurrency.quotes.USD.market_cap | spaceNumberDelimiter }}
        </p>
        <p>
          <span class="property-name">Market capacity change 24h:</span>
          {{ cryptocurrency.quotes.USD.market_cap_change_24h | spaceNumberDelimiter }}
        </p>
        <p>
          <span class="property-name">Percent change 15m:</span>
          {{ cryptocurrency.quotes.USD.percent_change_15m | percent | spaceNumberDelimiter  }}
        </p>
        <p>
          <span class="property-name">Percent change 30m:</span>
          {{ cryptocurrency.quotes.USD.percent_change_30m | percent | spaceNumberDelimiter  }}
        </p>
        <p>
          <span class="property-name">Percent change 1h:</span>
          {{ cryptocurrency.quotes.USD.percent_change_1h | percent | spaceNumberDelimiter  }}
        </p>
        <p>
          <span class="property-name">Percent change 6h:</span>
          {{ cryptocurrency.quotes.USD.percent_change_6h | percent | spaceNumberDelimiter  }}
        </p>
        <p>
          <span class="property-name">Percent change 12h:</span>
          {{ cryptocurrency.quotes.USD.percent_change_12h | percent | spaceNumberDelimiter  }}
        </p>
        <p>
          <span class="property-name">Percent change 24h:</span>
          {{ cryptocurrency.quotes.USD.percent_change_24h | percent | spaceNumberDelimiter  }}
        </p>
        <p>
          <span class="property-name">Percent change 7d:</span>
          {{ cryptocurrency.quotes.USD.percent_change_7d | percent | spaceNumberDelimiter  }}
        </p>
        <p>
          <span class="property-name">Percent change 30d:</span>
          {{ cryptocurrency.quotes.USD.percent_change_30d | percent | spaceNumberDelimiter  }}
        </p>
        <p>
          <span class="property-name">Percent change 1y:</span>
          {{ cryptocurrency.quotes.USD.percent_change_1y | percent | spaceNumberDelimiter  }}
        </p>
        <p>
          <span class="property-name">ATH price:</span>
          {{ cryptocurrency.quotes.USD.ath_price | currency | spaceNumberDelimiter  }}
        </p>
        <p>
          <span class="property-name">ATH date:</span>
          {{ cryptocurrency.quotes.USD.ath_date | date }}
        </p>
        <p>
          <span class="property-name">Percent from price ATH:</span>
          {{ cryptocurrency.quotes.USD.percent_from_price_ath | percent | spaceNumberDelimiter  }}
        </p>
      </mat-expansion-panel>
    </mat-accordion>
  </div>

</ng-container>
